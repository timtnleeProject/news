{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","helper/store.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","routes/Setting/setting.module.css","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","routes/Setting/index.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_assertThisInitialized","self","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","globalStore","initialStore","this","value","expired","Error","str","JSON","stringify","localStorage","setItem","getItem","date","parsed","parse","Date","now","getTime","removeItem","clear","setting","country","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","call","assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","create","module","exports","_defineProperty","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","countries","split","Setting","state","store","get","handleTagSelect","bind","remove","save","setState","className","styles","section","title","map","tag","active","onClick","React","Component"],"mappings":"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","file":"static/js/4.6c8f7864.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","const isExpired = (date) => {\n  if (!date) return false\n  return Date.now() > new Date(date).getTime()\n}\n\nexport class Store {\n  constructor (initialStore) {\n    this.initialStore = initialStore\n  }\n  save ({ key, value, expired }) {\n    if (!value || typeof value !== 'object') throw new Error('value must be an object')\n    const str = JSON.stringify({\n      value,\n      expired\n    })\n    localStorage.setItem(key, str)\n  }\n  get (key) {\n    const str = localStorage.getItem(key)\n    if (!str) return this.initialStore[key] || null\n    const parsed = JSON.parse(str)\n    if (isExpired(parsed.expired)) {\n      return this.initialStore[key] || null\n    } else {\n      return parsed.value\n    }\n  }\n  remove (key) {\n    localStorage.removeItem(key)\n  }\n  clear () {\n    localStorage.clear()\n  }\n}\n\nconst globalStore = new Store({\n  setting: {\n    country: 'tw'\n  }\n})\n// developing\n// store.clear()\nexport default globalStore\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"setting_section__2vh9G\",\"title\":\"setting_title__1oBGr\",\"tags-wrap\":\"setting_tags-wrap__2AyPT\",\"tag\":\"setting_tag__1JiBy\",\"active\":\"setting_active__C8bjE\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react'\nimport styles from './setting.module.css'\nimport store from '../../helper/store'\n\nconst countryStr = 'ae ar at au be bg br ca ch cn co cu cz de eg fr gb gr hk hu id ie il in it jp kr lt lv ma mx my ng nl no nz ph pl pt ro rs ru sa se sg si sk th tr tw ua us ve za'\nconst countries = countryStr.split(' ')\nexport default class Setting extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      country: store.get('setting').country\n    }\n    this.handleTagSelect = this.handleTagSelect.bind(this)\n  }\n  handleTagSelect (country) {\n    const setting = store.get('setting')\n    if (setting.country === country) return\n    store.remove('headlines')\n    store.save({\n      key: 'setting',\n      value: {\n        ...setting,\n        country\n      }\n    })\n    this.setState({\n      country\n    })\n  }\n  render () {\n    return (\n      <div>\n        <h2>設定</h2>\n        <div className={styles.section}>\n          <div className={styles.title}>國家</div>\n          <div className={styles['tags-wrap']}>\n            {\n              countries.map(country => {\n                const className = this.state.country === country\n                  ? styles.tag + ' ' + styles.active\n                  : styles.tag\n                return (<div\n                  className={className}\n                  key={country}\n                  onClick={this.handleTagSelect.bind(this, country)}\n                >\n                  {country}\n                </div>\n                )}\n              )\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}