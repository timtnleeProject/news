{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","helper/store.js","routes/Setting/setting.module.css","routes/Setting/index.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","globalStore","initialStore","this","value","expired","Error","str","JSON","stringify","localStorage","setItem","getItem","date","parsed","parse","Date","now","getTime","removeItem","clear","setting","country","module","exports","countries","split","className","styles","section","title","map","store","get","tag","active"],"mappings":"2GAAe,SAASA,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAFxB,mC,gCCAA,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAInC,SAASO,EAAad,EAAae,EAAYC,GAG5D,OAFID,GAAYb,EAAkBF,EAAYiB,UAAWF,GACrDC,GAAad,EAAkBF,EAAagB,GACzChB,EAbT,mC,oDCmCMkB,EAAc,IA9BpB,WACE,WAAaC,GAAe,oBAC1BC,KAAKD,aAAeA,EAFxB,oDAIkC,IAAxBN,EAAuB,EAAvBA,IAAKQ,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAClB,IAAKD,GAA0B,kBAAVA,EAAoB,MAAM,IAAIE,MAAM,2BACzD,IAAMC,EAAMC,KAAKC,UAAU,CACzBL,QACAC,YAEFK,aAAaC,QAAQf,EAAKW,KAV9B,0BAYOX,GACH,IAAMW,EAAMG,aAAaE,QAAQhB,GACjC,IAAKW,EAAK,OAAOJ,KAAKD,aAAaN,IAAQ,KAC3C,IApBeiB,EAoBTC,EAASN,KAAKO,MAAMR,GAC1B,OArBeM,EAqBDC,EAAOT,UAnBhBW,KAAKC,MAAQ,IAAID,KAAKH,GAAMK,UAoBxBf,KAAKD,aAAaN,IAAQ,KAE1BkB,EAAOV,QAnBpB,6BAsBUR,GACNc,aAAaS,WAAWvB,KAvB5B,8BA0BIc,aAAaU,YA1BjB,KA8BoB,CAAU,CAC5BC,QAAS,CACPC,QAAS,QAKErB,O,mBCzCfsB,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,YAAY,2BAA2B,IAAM,qBAAqB,OAAS,0B,gCCD/J,oDAKMC,EADa,oKACUC,MAAM,KACpB,qBACb,OACE,6BACE,4CACA,yBAAKC,UAAWC,IAAOC,SACrB,yBAAKF,UAAWC,IAAOE,OAAvB,gBACA,yBAAKH,UAAWC,IAAO,cAEnBH,EAAUM,KAAI,SAAAT,GACZ,IAAMK,EAAYK,IAAMC,IAAI,WAAWX,UAAYA,EAC/CM,IAAOM,IAAM,IAAMN,IAAOO,OAC1BP,IAAOM,IACX,OAAQ,yBACNP,UAAWA,EACX/B,IAAK0B,GAAUA","file":"static/js/4.1c44caf5.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","const isExpired = (date) => {\n  if (!date) return false\n  return Date.now() > new Date(date).getTime()\n}\n\nexport class Store {\n  constructor (initialStore) {\n    this.initialStore = initialStore\n  }\n  save ({ key, value, expired }) {\n    if (!value || typeof value !== 'object') throw new Error('value must be an object')\n    const str = JSON.stringify({\n      value,\n      expired\n    })\n    localStorage.setItem(key, str)\n  }\n  get (key) {\n    const str = localStorage.getItem(key)\n    if (!str) return this.initialStore[key] || null\n    const parsed = JSON.parse(str)\n    if (isExpired(parsed.expired)) {\n      return this.initialStore[key] || null\n    } else {\n      return parsed.value\n    }\n  }\n  remove (key) {\n    localStorage.removeItem(key)\n  }\n  clear () {\n    localStorage.clear()\n  }\n}\n\nconst globalStore = new Store({\n  setting: {\n    country: 'tw'\n  }\n})\n// developing\n// store.clear()\nexport default globalStore\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"setting_section__2vh9G\",\"title\":\"setting_title__1oBGr\",\"tags-wrap\":\"setting_tags-wrap__2AyPT\",\"tag\":\"setting_tag__1JiBy\",\"active\":\"setting_active__C8bjE\"};","import React from 'react'\nimport styles from './setting.module.css'\nimport store from '../../helper/store'\n\nconst countryStr = 'ae ar at au be bg br ca ch cn co cu cz de eg fr gb gr hk hu id ie il in it jp kr lt lv ma mx my ng nl no nz ph pl pt ro rs ru sa se sg si sk th tr tw ua us ve za'\nconst countries = countryStr.split(' ')\nexport default function () {\n  return (\n    <div>\n      <h2>設定</h2>\n      <div className={styles.section}>\n        <div className={styles.title}>國家</div>\n        <div className={styles['tags-wrap']}>\n          {\n            countries.map(country => {\n              const className = store.get('setting').country === country\n                ? styles.tag + ' ' + styles.active\n                : styles.tag\n              return (<div\n                className={className}\n                key={country}>{country}\n              </div>\n              )}\n            )\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"sourceRoot":""}