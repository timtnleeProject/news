(this["webpackJsonploc-news"]=this["webpackJsonploc-news"]||[]).push([[5],{35:function(e,t,n){"use strict";var a=n(33),i=n(34),r=new(function(){function e(t){Object(a.a)(this,e),this.initialStore=t}return Object(i.a)(e,[{key:"save",value:function(e){var t=e.key,n=e.value,a=e.expired;if(!n||"object"!==typeof n)throw new Error("value must be an object");var i=JSON.stringify({value:n,expired:a});localStorage.setItem(t,i)}},{key:"get",value:function(e){var t=localStorage.getItem(e);if(!t)return this.initialStore[e]||null;var n,a=JSON.parse(t);return(n=a.expired)&&Date.now()>new Date(n).getTime()?this.initialStore[e]||null:a.value}},{key:"remove",value:function(e){localStorage.removeItem(e)}},{key:"clear",value:function(){localStorage.clear()}}]),e}())({setting:{country:"tw"}});t.a=r},45:function(e,t,n){e.exports={item:"news_item__2akXV",content:"news_content__3kxe-",title:"news_title__3WJqZ",description:"news_description__2LbzD",image:"news_image__8z6Aw"}},46:function(e,t,n){e.exports={loading:"loading_loading__3nYZo",blink:"loading_blink__1YMCk"}},69:function(e,t,n){"use strict";n.r(t);var a=n(33),i=n(34),r=n(66),l=n(44),o=n(67),c=n(0),s=n.n(c),u=n(45),m=n.n(u);function v(e){return s.a.createElement("div",{className:m.a.item,onClick:function(){window.open(e.url,"_blank")}},e.image?s.a.createElement("div",{className:m.a.image,style:{backgroundImage:"url(".concat(e.image,")")}}):null,s.a.createElement("div",{className:m.a.content},s.a.createElement("div",{className:m.a.title},e.title),s.a.createElement("div",{className:m.a.description},e.description)))}function d(e){var t=e.list.map((function(e){return s.a.createElement(v,{title:e.title,description:e.description,url:e.url,image:e.urlToImage,key:e.url})}));return s.a.createElement("div",null,t)}var f=n(46),g=n.n(f);function p(){return s.a.createElement("div",{className:g.a.loading},"\u52a0\u8f09\u4e2d")}var h=n(35),_=n(47),k=n.n(_),w=n(14).a.api,b=w.origin,y=w.token,E=k.a.create({baseURL:b,timeout:3e3,headers:{"X-Api-Key":y}});E.interceptors.response.use((function(e){return e.data&&"ok"===e.data.status?e.data:Promise.reject(e)}));n.d(t,"default",(function(){return j}));var j=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={list:[]},n}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var e=h.a.get("setting").country,t=h.a.get("headlines");return t?Promise.resolve(t):E.get("/top-headlines",{params:{country:e}}).then((function(e){var t,n=e.articles;return h.a.save({key:"headlines",value:n,expired:(t=36e5,new Date(Date.now()+t))}),n}))})().then((function(t){e.setState({list:t})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"\u7126\u9ede\u65b0\u805e"),0===this.state.list.length?s.a.createElement(p,null):s.a.createElement(d,{list:this.state.list}))}}]),t}(s.a.Component)}}]);
//# sourceMappingURL=5.46ec71cd.chunk.js.map