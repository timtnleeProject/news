{"version":3,"sources":["components/NewsList/index.js","components/NewsList/news.module.css","helper/api.js","routes/Explore/explore.module.css","routes/Explore/index.js"],"names":["News","props","info","source","name","author","push","date","publishedAt","Date","toLocaleString","className","styles","item","onClick","window","open","url","image","style","backgroundImage","content","title","join","description","NewsList","news","list","map","i","urlToImage","key","module","exports","CONFIG","api","origin","token","instance","axios","create","baseURL","timeout","headers","fetchHeadlines","country","get","params","fetchEverything","q","interceptors","response","use","data","status","Promise","reject","Explore","_isMounted","state","handleQuery","bind","handleKeydown","search","this","then","res","setState","articles","e","target","value","keyCode","input","onChange","onKeyDown","btn","length","React","Component"],"mappings":"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","file":"static/js/5.1ee8a957.chunk.js","sourcesContent":["import React from 'react';\nimport styles from './news.module.css'\n\nfunction News (props) {\n  const openLink = () => {\n    window.open(props.url, '_blank')\n  }\n  const info = [props.source.name]\n  if (props.author) info.push(props.author)\n  const date = props.publishedAt\n    ? new Date(props.publishedAt).toLocaleString()\n    : null\n  return (\n    <div\n      className={styles.item}\n      onClick={openLink}\n    >\n      { props.image\n        ? (\n          <div\n            className={styles.image}\n            style={{backgroundImage: `url(${props.image})`}}\n          ></div>\n        )\n        : null\n      }\n      <div className={styles.content}>\n        <div className={styles.title}>{props.title}</div>\n        <div className={styles.info}>\n          <span>{info.join('/')}</span>\n          <span>{date}</span>\n        </div>\n        <div className={styles.description}>{props.description}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default function NewsList (props) {\n  const news = props.list.map((item, i) => (\n    <News\n      title={item.title}\n      description={item.description}\n      url={item.url}\n      source={item.source}\n      author={item.author}\n      publishedAt={item.publishedAt}\n      image={item.urlToImage}\n      key={i}\n    />\n  ))\n  return (\n    <div>\n      {news}\n    </div>\n  )\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"news_item__2akXV\",\"content\":\"news_content__3kxe-\",\"title\":\"news_title__3WJqZ\",\"info\":\"news_info__2Ny5e\",\"description\":\"news_description__2LbzD\",\"image\":\"news_image__8z6Aw\"};","import axios from 'axios'\nimport CONFIG from '../config'\nconst { origin, token } = CONFIG.api\n\nconst instance = axios.create({\n  baseURL: origin,\n  timeout: 3000,\n  headers: {\n    'X-Api-Key': token\n  }\n})\ninstance.interceptors.response.use(response => {\n  if (response.data && response.data.status === 'ok') return response.data\n  else return Promise.reject(response)\n})\n\nexport function fetchHeadlines ({ country }) {\n  return instance.get('/top-headlines', {\n    params: {\n      country\n    }\n  })\n}\n\nexport function fetchSources ({ country }) {\n  return instance.get('/sources')\n}\n\nexport function fetchEverything ({ q }) {\n  return instance.get('/everything', {\n    params: {\n      q\n    }\n  })\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-bar\":\"explore_search-bar__2g1AF\",\"input\":\"explore_input__1VE_f\",\"btn\":\"explore_btn__Mauxj\"};","import React from 'react';\nimport { fetchEverything } from '../../helper/api'\nimport Loading from '../../components/Loading'\nimport NewsList from '../../components/NewsList'\nimport styles from './explore.module.css'\n\nexport default class Explore extends React.Component {\n  _isMounted = false\n  constructor (props) {\n    super(props)\n    this.state = {\n      list: [],\n      q: ''\n    }\n    this.handleQuery = this.handleQuery.bind(this)\n    this.handleKeydown = this.handleKeydown.bind(this)\n    this.search = this.search.bind(this)\n  }\n  componentDidMount () {\n    this._isMounted = true\n    fetchEverything({ q: 'game' }).then(res => {\n      if (this._isMounted) {\n        this.setState({\n          list: res.articles\n        })\n      }\n    })\n  }\n  componentWillUnmount () {\n    this._isMounted = false\n  }\n  handleQuery (e) {\n    this.setState({\n      q: e.target.value\n    })\n  }\n  handleKeydown (e) {\n    if (e.keyCode === 13) {\n      this.search()\n    }\n  }\n  search () {\n    if (!this.state.q) return\n    this.setState({\n      list: []\n    })\n    fetchEverything({ q: this.state.q }).then(res => {\n      this.setState({\n        list: res.articles\n      })\n    })\n  }\n  render () {\n    return (\n      <div>\n        <div className={styles['search-bar']}>\n          <input\n            value={this.state.q}\n            className={styles.input}\n            onChange={this.handleQuery}\n            onKeyDown={this.handleKeydown}\n          ></input>\n          <button\n            className={styles.btn}\n            onClick={this.search}\n          >搜尋</button>\n        </div>\n        {\n          this.state.list.length === 0\n            ? <Loading/>\n            : <NewsList list={this.state.list}/>\n        }\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}