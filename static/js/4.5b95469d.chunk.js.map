{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","helper/store.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","routes/Setting/setting.module.css","routes/Setting/index.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","globalStore","initialStore","this","value","expired","Error","str","JSON","stringify","localStorage","setItem","getItem","date","parsed","parse","Date","now","getTime","removeItem","clear","setting","country","category","params","_assertThisInitialized","self","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_defineProperty","obj","_typeof","Symbol","iterator","constructor","_possibleConstructorReturn","call","assertThisInitialized","_setPrototypeOf","p","_inherits","subClass","superClass","create","module","exports","countries","split","categories","Setting","store","get","state","type","remove","save","setState","className","styles","section","title","map","tag","active","onClick","handleTagSelect","bind","React","Component"],"mappings":"2GAAe,SAASA,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAFxB,mC,gCCAA,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACrC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAInC,SAASO,EAAad,EAAae,EAAYC,GAG5D,OAFID,GAAYb,EAAkBF,EAAYiB,UAAWF,GACrDC,GAAad,EAAkBF,EAAagB,GACzChB,EAbT,mC,oDCmCMkB,EAAc,IA9BpB,WACE,WAAaC,GAAe,oBAC1BC,KAAKD,aAAeA,EAFxB,oDAIkC,IAAxBN,EAAuB,EAAvBA,IAAKQ,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAClB,IAAKD,GAA0B,kBAAVA,EAAoB,MAAM,IAAIE,MAAM,2BACzD,IAAMC,EAAMC,KAAKC,UAAU,CACzBL,QACAC,YAEFK,aAAaC,QAAQf,EAAKW,KAV9B,0BAYOX,GACH,IAAMW,EAAMG,aAAaE,QAAQhB,GACjC,IAAKW,EAAK,OAAOJ,KAAKD,aAAaN,IAAQ,KAC3C,IApBeiB,EAoBTC,EAASN,KAAKO,MAAMR,GAC1B,OArBeM,EAqBDC,EAAOT,UAnBhBW,KAAKC,MAAQ,IAAID,KAAKH,GAAMK,UAoBxBf,KAAKD,aAAaN,IAAQ,KAE1BkB,EAAOV,QAnBpB,6BAsBUR,GACNc,aAAaS,WAAWvB,KAvB5B,8BA0BIc,aAAaU,YA1BjB,KA8BoB,CAAU,CAC5BC,QAAS,CACPC,QAAS,KACTC,SAAU,WAEZC,OAAQ,KAIKvB,O,gCC5CA,SAASwB,EAAuBC,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,EALT,mC,gCCAe,SAASE,EAAgBC,GAItC,OAHAD,EAAkBlC,OAAOoC,eAAiBpC,OAAOqC,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAatC,OAAOqC,eAAeF,KAEvBA,GAJzB,mC,gCCAA,8CAEA,SAASI,EAAQC,EAAQC,GACvB,IAAIC,EAAO1C,OAAO0C,KAAKF,GAEvB,GAAIxC,OAAO2C,sBAAuB,CAChC,IAAIC,EAAU5C,OAAO2C,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAO9C,OAAO+C,yBAAyBP,EAAQM,GAAKjD,eAEtD6C,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,SAASQ,EAAe1D,GACrC,IAAK,IAAIE,EAAI,EAAGA,EAAIyD,UAAUxD,OAAQD,IAAK,CACzC,IAAI0D,EAAyB,MAAhBD,UAAUzD,GAAayD,UAAUzD,GAAK,GAE/CA,EAAI,EACN6C,EAAQvC,OAAOoD,IAAS,GAAMC,SAAQ,SAAUnD,GAC9C,YAAeV,EAAQU,EAAKkD,EAAOlD,OAE5BF,OAAOsD,0BAChBtD,OAAOuD,iBAAiB/D,EAAQQ,OAAOsD,0BAA0BF,IAEjEb,EAAQvC,OAAOoD,IAASC,SAAQ,SAAUnD,GACxCF,OAAOC,eAAeT,EAAQU,EAAKF,OAAO+C,yBAAyBK,EAAQlD,OAKjF,OAAOV,I,gCCjCM,SAASgE,EAAgBC,EAAKvD,EAAKQ,GAYhD,OAXIR,KAAOuD,EACTzD,OAAOC,eAAewD,EAAKvD,EAAK,CAC9BQ,MAAOA,EACPb,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZ0D,EAAIvD,GAAOQ,EAGN+C,EAZT,mC,gCCAe,SAASC,EAAQD,GAa9B,OATEC,EADoB,oBAAXC,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBH,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXE,QAAyBF,EAAII,cAAgBF,QAAUF,IAAQE,OAAOrD,UAAY,gBAAkBmD,IAI9GA,G,YCXF,SAASK,EAA2B9B,EAAM+B,GACvD,OAAIA,GAA2B,WAAlBL,EAAQK,IAAsC,oBAATA,EAI3C,OAAAC,EAAA,GAAsBhC,GAHpB+B,EAJX,mC,gCCAe,SAASE,EAAgB9B,EAAG+B,GAMzC,OALAD,EAAkBjE,OAAOoC,gBAAkB,SAAyBD,EAAG+B,GAErE,OADA/B,EAAEG,UAAY4B,EACP/B,IAGcA,EAAG+B,GCLb,SAASC,EAAUC,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAI/E,UAAU,sDAGtB8E,EAAS9D,UAAYN,OAAOsE,OAAOD,GAAcA,EAAW/D,UAAW,CACrEuD,YAAa,CACXnD,MAAO0D,EACPrE,UAAU,EACVD,cAAc,KAGduE,GAAY,EAAeD,EAAUC,GAb3C,mC,mBCCAE,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,YAAY,2BAA2B,IAAM,qBAAqB,YAAY,2BAA2B,OAAS,0B,oLCIhMC,EADa,oKACUC,MAAM,KAC7BC,EAAa,CAAC,WAAY,gBAAiB,UAAW,SAAU,UAAW,SAAU,cACtEC,E,YACnB,WAAanF,GAAQ,IAAD,sBAClB,4CAAMA,IACN,IAAMkC,EAAUkD,IAAMC,IAAI,WAFR,OAGlB,EAAKC,MAAQ,CACXnD,QAASD,EAAQC,QACjBC,SAAUF,EAAQE,UALF,E,6EASHmD,EAAMtE,GACrB,IAAMiB,EAAUkD,IAAMC,IAAI,WACtBnD,EAAQqD,KAAUtE,IACtBmE,IAAMI,OAAO,aACbJ,IAAMK,KAAK,CACThF,IAAK,UACLQ,MAAM,eACDiB,EADA,eAEFqD,EAAOtE,MAGZD,KAAK0E,SAAL,eACGH,EAAOtE,O,+BAGD,IAAD,OACR,OACE,6BACE,yBAAK0E,UAAWC,IAAOC,SACrB,yBAAKF,UAAWC,IAAOE,OAAvB,gBACA,yBAAKH,UAAWC,IAAO,cAEnBZ,EAAUe,KAAI,SAAA5D,GACZ,IAAMwD,EAAY,EAAKL,MAAMnD,UAAYA,EACrCyD,IAAOI,IAAM,IAAMJ,IAAOK,OAC1BL,IAAOI,IACX,OAAQ,yBACNL,UAAWA,EACXlF,IAAK0B,EACL+D,QAAS,EAAKC,gBAAgBC,KAAK,EAAM,UAAWjE,IAEnDA,QAOX,yBAAKwD,UAAWC,IAAOC,SACrB,yBAAKF,UAAWC,IAAOE,OAAvB,gBACA,yBAAKH,UAAWC,IAAO,cAEnBV,EAAWa,KAAI,SAAA3D,GACb,IAAMuD,EAAY,EAAKL,MAAMlD,WAAaA,EACtCwD,IAAO,aAAe,IAAMA,IAAOK,OACnCL,IAAO,aACX,OAAQ,yBACND,UAAWA,EACXlF,IAAK2B,EACL8D,QAAS,EAAKC,gBAAgBC,KAAK,EAAM,WAAYhE,IAEpDA,a,GA7DkBiE,IAAMC","file":"static/js/4.5b95469d.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","const isExpired = (date) => {\n  if (!date) return false\n  return Date.now() > new Date(date).getTime()\n}\n\nexport class Store {\n  constructor (initialStore) {\n    this.initialStore = initialStore\n  }\n  save ({ key, value, expired }) {\n    if (!value || typeof value !== 'object') throw new Error('value must be an object')\n    const str = JSON.stringify({\n      value,\n      expired\n    })\n    localStorage.setItem(key, str)\n  }\n  get (key) {\n    const str = localStorage.getItem(key)\n    if (!str) return this.initialStore[key] || null\n    const parsed = JSON.parse(str)\n    if (isExpired(parsed.expired)) {\n      return this.initialStore[key] || null\n    } else {\n      return parsed.value\n    }\n  }\n  remove (key) {\n    localStorage.removeItem(key)\n  }\n  clear () {\n    localStorage.clear()\n  }\n}\n\nconst globalStore = new Store({\n  setting: {\n    country: 'tw',\n    category: 'general'\n  },\n  params: ''\n})\n// developing\n// store.clear()\nexport default globalStore\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"setting_section__2vh9G\",\"title\":\"setting_title__1oBGr\",\"tags-wrap\":\"setting_tags-wrap__2AyPT\",\"tag\":\"setting_tag__1JiBy\",\"tag--wide\":\"setting_tag--wide__3dBE8\",\"active\":\"setting_active__C8bjE\"};","import React from 'react'\nimport styles from './setting.module.css'\nimport store from '../../helper/store'\n\nconst countryStr = 'ae ar at au be bg br ca ch cn co cu cz de eg fr gb gr hk hu id ie il in it jp kr lt lv ma mx my ng nl no nz ph pl pt ro rs ru sa se sg si sk th tr tw ua us ve za'\nconst countries = countryStr.split(' ')\nconst categories = ['business', 'entertainment', 'general', 'health', 'science', 'sports', 'technology']\nexport default class Setting extends React.Component {\n  constructor (props) {\n    super(props)\n    const setting = store.get('setting')\n    this.state = {\n      country: setting.country,\n      category: setting.category\n    }\n  }\n  \n  handleTagSelect (type, value) {\n    const setting = store.get('setting')\n    if (setting[type] === value) return\n    store.remove('headlines')\n    store.save({\n      key: 'setting',\n      value: {\n        ...setting,\n        [type]: value\n      }\n    })\n    this.setState({\n      [type]: value\n    })\n  }\n  render () {\n    return (\n      <div>\n        <div className={styles.section}>\n          <div className={styles.title}>國家</div>\n          <div className={styles['tags-wrap']}>\n            {\n              countries.map(country => {\n                const className = this.state.country === country\n                  ? styles.tag + ' ' + styles.active\n                  : styles.tag\n                return (<div\n                  className={className}\n                  key={country}\n                  onClick={this.handleTagSelect.bind(this, 'country', country)}\n                >\n                  {country}\n                </div>\n                )}\n              )\n            }\n          </div>\n        </div>\n        <div className={styles.section}>\n          <div className={styles.title}>類別</div>\n          <div className={styles['tags-wrap']}>\n            {\n              categories.map(category => {\n                const className = this.state.category === category\n                  ? styles['tag--wide'] + ' ' + styles.active\n                  : styles['tag--wide'] \n                return (<div\n                  className={className}\n                  key={category}\n                  onClick={this.handleTagSelect.bind(this, 'category', category)}\n                >\n                  {category}\n                </div>\n                )}\n              )\n            }\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}