{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","helper/store.js","helper/news.js","routes/Home/index.js","../node_modules/@babel/runtime/helpers/esm/inherits.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","self","call","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","Store","value","expired","Error","str","JSON","stringify","localStorage","setItem","date","getItem","parsed","parse","Date","now","getTime","removeItem","apiKey","CONFIG","token","store","News","className","title","description","NewsList","news","list","map","item","url","Home","state","subClass","superClass","create","country","api","origin","localHeadlines","get","Promise","resolve","fetch","then","res","json","status","headlines","articles","save","milisec","getTopHeadlines","setState","this","React","Component"],"mappings":"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","file":"static/js/3.cdf5f1e9.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","const isExpired = (date) => {\n  if (!date) return false\n  return Date.now() > new Date(date).getTime()\n}\nexport class Store {\n  save ({ key, value, expired }) {\n    if (!value || typeof value !== 'object') throw new Error('value must be an object')\n    const str = JSON.stringify({\n      value,\n      expired\n    })\n    localStorage.setItem(key, str)\n  }\n  get (key) {\n    const str = localStorage.getItem(key)\n    if (str) {\n      const parsed = JSON.parse(str)\n      return isExpired(parsed.expired) ? null : parsed.value\n    }\n    else return str\n  }\n  remove (key) {\n    localStorage.removeItem(key)\n  }\n}\n","import { Store } from './store';\nimport CONFIG from '../config'\nconst apiKey = CONFIG.token;\n\nconst store = new Store()\nconst anHour = 60 * 60 * 1000\nconst dateAfter = (milisec) => {\n  return new Date(Date.now() + milisec)\n}\n\nexport function resetTopHeadlines () {\n  store.remove('headlines')\n}\n\nexport function getTopHeadlines ({ country }) {\n  const url = `${CONFIG.api.origin}top-headlines?` +\n      `country=${country || 'us'}&` +\n      `apiKey=${apiKey}`\n  const localHeadlines = store.get('headlines')\n  if (localHeadlines) return Promise.resolve(localHeadlines)\n  return fetch(url)\n    .then(res => res.json())\n    .then(res => {\n      if (res.status === 'ok'){\n        const headlines = res.articles\n        store.save({\n          key: 'headlines',\n          value: headlines,\n          expired: dateAfter(anHour)\n        })\n        return headlines\n      }\n    })\n}","import React from 'react'\nimport './news.css'\nimport { getTopHeadlines } from '../../helper/news'\n\nfunction News (props) {\n  return (\n    <div className=\"News\">\n      <div className=\"News-title\">{props.title}</div>\n      <div className=\"News-description\">{props.description}</div>\n    </div>\n  )\n}\n\nfunction NewsList (props) {\n  const news = props.list.map(item => (\n    <News\n      title={item.title}\n      description={item.description}\n      key={item.url}\n    />\n  ))\n  return (\n    <div className=\"NewsList\">\n      {news}\n    </div>\n  )\n}\n\nexport default class Home extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      list: []\n    }\n  }\n  componentDidMount () {\n    getTopHeadlines({ country: 'us' })\n      .then(news => {\n        this.setState({\n          list: news\n        })\n      })\n  }\n  render () {\n    return (\n      <div>\n        <div>Home</div>\n        <NewsList list={this.state.list}/>\n      </div>\n    )\n  }\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}"],"sourceRoot":""}