(this["webpackJsonploc-news"]=this["webpackJsonploc-news"]||[]).push([[4],{44:function(e,t,n){e.exports={list:"news_list__3aSRD",item:"news_item__2akXV",content:"news_content__3kxe-",title:"news_title__3WJqZ",description:"news_description__2LbzD",image:"news_image__8z6Aw"}},45:function(e,t,n){e.exports={loading:"loading_loading__3nYZo",blink:"loading_blink__1YMCk"}},67:function(e,t,n){"use strict";n.r(t);var a=n(33),i=n(34),r=n(64),l=n(43),s=n(65),o=n(0),c=n.n(o),u=n(44),m=n.n(u);function v(e){return c.a.createElement("div",{className:m.a.item,onClick:function(){window.open(e.url,"_blank")}},e.image?c.a.createElement("div",{className:m.a.image},c.a.createElement("img",{src:e.image,alt:e.title})):null,c.a.createElement("div",{className:m.a.content},c.a.createElement("div",{className:m.a.title},e.title),c.a.createElement("div",{className:m.a.description},e.description)))}function d(e){var t=e.list.map((function(e){return c.a.createElement(v,{title:e.title,description:e.description,url:e.url,image:e.urlToImage,key:e.url})}));return c.a.createElement("div",{className:m.a.list},t)}var p=n(45),f=n.n(p);function _(){return c.a.createElement("div",{className:f.a.loading},"\u52a0\u8f09\u4e2d")}var g=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"save",value:function(e){var t=e.key,n=e.value,a=e.expired;if(!n||"object"!==typeof n)throw new Error("value must be an object");var i=JSON.stringify({value:n,expired:a});localStorage.setItem(t,i)}},{key:"get",value:function(e){var t,n=localStorage.getItem(e);if(n){var a=JSON.parse(n);return(t=a.expired)&&Date.now()>new Date(t).getTime()?null:a.value}return n}},{key:"remove",value:function(e){localStorage.removeItem(e)}}]),e}(),w=n(46),k=n.n(w),h=n(13).a.api,b=h.origin,y=h.token,E=k.a.create({baseURL:b,timeout:3e3,headers:{"X-Api-Key":y}});E.interceptors.response.use((function(e){return e.data&&"ok"===e.data.status?e.data:e}));var j=new g;n.d(t,"default",(function(){return N}));var N=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={list:[]},n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t=e.country,n=void 0===t?"us":t,a=j.get("headlines");return a?Promise.resolve(a):E.get("/top-headlines",{params:{country:n}}).then((function(e){var t,n=e.articles;return j.save({key:"headlines",value:n,expired:(t=36e5,new Date(Date.now()+t))}),n}))})({country:"us"}).then((function(t){e.setState({list:t})}))}},{key:"render",value:function(){return c.a.createElement("div",null,0===this.state.list.length?c.a.createElement(_,null):c.a.createElement(d,{list:this.state.list}))}}]),t}(c.a.Component)}}]);
//# sourceMappingURL=4.288adeae.chunk.js.map